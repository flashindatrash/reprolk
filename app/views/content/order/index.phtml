<div class="panel panel-default">
	<div class="panel-heading"><?php print sprintf(View::str('all_orders_result'), count($this->orders)); ?>
		<div class="pull-right">
			<?php print View::link('#', '', null, 'add', 'btn btn-xs btn-primary glyphicon glyphicon-filter', View::str('filter'), null, array('toggle' => 'modal', 'target' => '#filterModal')); ?>
			<?php print View::link('OrderAdd', '', null, 'add', 'btn btn-xs btn-primary glyphicon glyphicon-plus', null, 'top'); ?>
			<?php print View::link('OrderView', '', null, 'view', 'btn-action btn btn-xs btn-primary glyphicon glyphicon-eye-open disabled', null, 'top'); ?>
			<?php print View::link('OrderEdit', '', null, 'edit', 'btn-action btn btn-xs btn-primary glyphicon glyphicon-pencil disabled', null, 'top'); ?>
			<?php print View::link('OrderDuplicate', '', null, 'duplicate', 'btn-action btn btn-xs btn-primary glyphicon glyphicon-duplicate disabled', null, 'right'); ?>
		</div>
	</div>
	
	<table class="table table-hover">
		<thead>
			<tr>
				<?php
				$html = '';
				foreach ($this->fields_view as $th) {
					$html .= '<th>';
					$html .= View::linkSort($th, $this->order_by);
					$html .= '</th>';
				}
				print $html;
				?>
			</tr>
		</thead>
		<tbody>
			<?php
			$orders = '';
			foreach ($this->orders as $n => $order) {
				$classes = array();
				
				$classes[] = 'order_row';
				$classes[] = 'noselect';
				$classes[] = 'cursor_pointer';
				
				if ($order->isCanceled()) {
					$classes[] = 'danger';
				}
				
				$orders .= '<tr class="' . join (' ', $classes) . '" id="' . $order->id . '">';
				foreach ($this->fields_view as $td) {
					$orders .= '<td>' . $order->$td . '</td>';
				}
			}
			print $orders;
			?>
		</tbody>
	</table>
</div>
